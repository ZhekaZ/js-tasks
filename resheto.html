<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Resheto Eratosfena</title>
</head>
<body>
	<script>
		"use strict";

		// В виде функции реализуйте алгоритм «Решето Эратосфена» для поиска всех простых чисел до n, который выглядит так:

		// 1. Создать список последовательных чисел от 2 до n: 2, 3, 4, ..., n.
		// 2. Пусть p=2, это первое простое число.
		// 3. Зачеркнуть все последующие числа в списке с разницей в p, т.е. 2*p, 3*p, 4*p и т.д. В    случае p=2 это будут 4,6,8....
		// 4. Поменять значение p на первое не зачеркнутое число после p.
		// 5. Повторить шаги 3-4 пока p2 < n.
		// 6. Все оставшиеся не зачеркнутыми числа – простые.

		// Выведите все простые числа от 2 до 100 в виде массива.
		// Анимация алгоритма: 
		// http://learn.javascript.ru/task/eratosthenes-sieve/sieve.gif



		function resheto(n) {
			var arr = [],
				p = 2;

			for(var i=0; i<n; i++) {
				arr.push(true);
			}

			while(p*p<n) {
				for(var i=2*p; i<n; i+=p) {
					arr[i] = false;
				}

				for(i=p+1; i<=n;i++) {
					if(arr[i]) {
						p=i;
				 		break;
					}
				}
			}

			var simpleNumbers = [];

			for(i=2; i<n; i++) {
				if(arr[i]) {
					simpleNumbers.push(i);
				}
			}

			console.log(simpleNumbers);

			//return simpleNumbers;
		}

		resheto(120);

	</script>
</body>
</html>